let clickCount=0;const exampleLinks=["https://irritatepillssurly.com/y4gsdhs1?key=364bb8c942775bcd18321c760529b9bd","https://irritatepillssurly.com/dzuxwijy?key=d6a729b20e0b3c46d15e4478d0ee1d4b","https://irritatepillssurly.com/hqcy31erjz?key=cab5ae9f04479c27ecf27ed5f4a7496b","https://irritatepillssurly.com/mda3nbcax3?key=d0b8d02243b60d8fe5149eaa478213ef","https://irritatepillssurly.com/n5zeue1rt?key=4118d6de05154a8b409f693189aa5c8b"];async function fetchGrammarlyCookies(){const url="https://cookiesnerd.com/copy-grammarly-premium-cookies/";const container=document.getElementById("cookieContainer");const copyButton=document.getElementById("copyButton");const dateContainer=document.getElementById("dateContainer");const loader=document.getElementById("loadingSpinner");const refreshButton=document.getElementById("refreshButton");loader.style.visibility="visible";container.textContent="Loading Grammarly cookies...";container.style.visibility="visible";refreshButton.style.display="none";container.addEventListener("contextmenu",disableRightClick);container.style.userSelect="none";container.addEventListener("copy",preventCopy);try{const response=await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`);if(!response.ok)throw new Error("Failed to fetch the webpage");const htmlText=await response.text();const textAreaMatch=htmlText.match(/<textarea class="ctc-copy-button-textarea" readonly>(.*?)<\/textarea>/s);if(textAreaMatch&&textAreaMatch[1]){let grammarlyCookies=textAreaMatch[1].trim();let countdown=60;const countdownInterval=setInterval(()=>{dateContainer.textContent=`Cookies... Will display in ${countdown} seconds`;countdown--;if(countdown<0){clearInterval(countdownInterval);container.textContent=grammarlyCookies;container.style.visibility="visible";dateContainer.textContent=`Updated: ${new Date().toLocaleString()}`;dateContainer.style.visibility="visible";loader.style.visibility="hidden";copyButton.style.display="block"}},1000);copyButton.addEventListener("click",()=>handleCopyClick(grammarlyCookies))}else{container.textContent="No textarea content found!";loader.style.visibility="hidden";refreshButton.style.display="block";console.error("Regex did not match textarea content in the fetched HTML.")}}catch(error){container.textContent=`Error fetching content: ${error.message}`;loader.style.visibility="hidden";refreshButton.style.display="block";console.error("Error fetching or processing content:",error)}finally{container.removeEventListener("contextmenu",disableRightClick);container.style.userSelect="none";container.removeEventListener("copy",preventCopy)}}
function handleCopyClick(grammarlyCookies){clickCount++;if(clickCount<=5){window.open(exampleLinks[clickCount-1],'_blank');copyButton.textContent=`Click ${6 - clickCount} more time(s) to copy content`}else if(clickCount===6){console.log("Attempting to copy text to clipboard...");navigator.clipboard.writeText(grammarlyCookies).then(()=>{console.log("Text copied successfully.");copyButton.textContent="Copied!";setTimeout(()=>copyButton.textContent="Copy to Clipboard",2000)}).catch(err=>{console.error("Clipboard write failed.",err);fallbackCopy(grammarlyCookies)});clickCount=0}}
function fallbackCopy(text){const textarea=document.createElement("textarea");textarea.value=text;document.body.appendChild(textarea);textarea.select();try{const successful=document.execCommand('copy');console.log(successful?'Text copied to clipboard using fallback method!':'Failed to copy text using fallback method.');copyButton.textContent=successful?"Copied!":"Failed to Copy";setTimeout(()=>copyButton.textContent="Copy to Clipboard",2000)}catch(err){console.error("Failed to copy using fallback:",err);copyButton.textContent="Failed to Copy"}
document.body.removeChild(textarea)}
function disableRightClick(event){event.preventDefault()}
function preventCopy(event){event.preventDefault()}
document.addEventListener("DOMContentLoaded",fetchGrammarlyCookies);function refreshContent(){document.getElementById("refreshButton").style.display="none";fetchGrammarlyCookies()}
